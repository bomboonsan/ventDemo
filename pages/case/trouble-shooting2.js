import Head from 'next/head'
import Image from 'next/image'
import 'bootstrap/dist/css/bootstrap.css'
import styles from '../../styles/casedetail.module.css'
import Link from "next/link";
import { useState , useEffect , useRef } from 'react';
import ReactPlayer from 'react-player'
// import { useRouter } from 'next/router'
import screenfull from 'screenfull'


export default function CaseDetail() {
  const [playing, setPlaying] = useState(true);
  // const troubleShootingVideo = 'https://wish-integrate.com/vent-video/trouble-shooting2-edit.mp4'
  const troubleShootingVideo = 'https://wish-integrate.com/vent-video/trouble/Patient2Pre.mp4'
  const playerRef = useRef(null);
  const onClickFullscreen = () => {
    if (screenfull.isEnabled && playerRef.current) {
      screenfull.toggle(playerRef.current.wrapper);
    }
  };
  function reset() {
    
  }
  const videoStyle = {
    marginLeft: 'auto',
    marginRight: 'auto',
  };
  return (
    <div className={styles.container}>
      <Head>
        <title>Trouble shooting </title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <div className='prev_page'>
          <Link href="/menulearningmode"> 
            <Image
                src="/images/prev.png"
                alt="Women"
                // layout="fill"
                // objectFit="cover"
                width={196}
                height={196}
            />
            </Link>
      </div>{/* prev_page */}
      <div className='container'>
        <div className='row justify-content-center align-items-center min-h-screen'>
          <div className='col-11'>
            <div className={styles.case_wrapper}>
              {/* <div className='prev_page_case'>
                <Link href="/menulearningmode"> 
                  <Image
                      src="/images/prev.png"
                      alt="Women"
                      // layout="fill"
                      // objectFit="cover"
                      width={196}
                      height={196}
                  />
                  </Link>
              </div> */}
              <div className={styles.case_row}>
                <div className={styles.case_colleft}>
                  {/* <div className={styles.case_thumbnail}>
                    <Image
                        src="/images/card1-rounded.png"
                        alt="case1"
                        width={500}
                        height={500}
                    />
                  </div> */}
                  <div className={styles.case_thumbnail2}>
                    <Image
                        src="/images/case3-thumb3.png"
                        alt="case1"
                        width={500}
                        height={500}
                    />
                  </div>
                  <div className={styles.case_simpledetail}>
                    <h2 className={styles.case_name}>Patient 1</h2>
                    <div className={styles.case_simpledetail_byline}>
                      <ul>
                        <li>
                          Age : <strong>75</strong>
                        </li>
                        <li>
                          Sex : <strong>Female</strong>
                        </li>
                        <li>
                          Weight : <strong>50 kg</strong>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <div className={styles.case_colright}>
                  <div className={styles.right_row}>
                    <div className={styles.right_colbox}>
                      <div className={styles.detail_row_short}>
                        <div className={styles.detail_colfull}>
                          <div className={styles.case_fulldetail}>
                            {/* trouble-shooting.mp4 */}
                            <ReactPlayer 
                            onClick={onClickFullscreen}
                            className={styles.video_item} 
                            url={troubleShootingVideo}  
                            playing={playing} 
                            ref={playerRef}
                            loop={true}
                            onEnded={reset}
                            width='80%'
                            height='80%'
                            style={videoStyle}
                            />
                            <p className='text-center'>
                            มีการร้องเตือนขึ้นกับคนไข้ใส่ท่อช่วยหายใจ
                            </p>

                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  {/* <div className={styles.btn_monitor_thumbnail_area}>
                    <div className={styles.btn_monitor_thumbnail}>
                      <Link href="/case/monitor/3"> 
                      <Image
                          src="/images/monitor.png"
                          alt="case1"
                          // layout="fill"
                          // objectFit="cover"
                          width={500}
                          height={500}
                      />
                      </Link>
                    </div>
                  </div> */}
                  {/* <div className={styles.btn_area}>
                    <Link href='/quiz/trouble-shooting-case2'>
                    <button className={styles.next_btn}>
                      NEXT
                    </button>
                    </Link>                    
                  </div> */}
                </div>
                {/* case_colright */}
              </div>
            </div> 
            <div className={styles.btn_area_outside}>
              <Link href='/quiz/trouble-shooting-case2'>
              <button className={styles.next_btn}>
                NEXT
              </button>
              </Link>                    
            </div>
          </div>          
        </div>
      </div>
    </div>
  )
}